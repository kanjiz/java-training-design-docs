# 詳細設計書作成ガイドライン

## 1. 基本方針

- 設計書は実装言語に依存しない形で記述する
- 簡潔かつ具体的な記述を心がける

## 2. 設計書の構成

### 2.1 必須セクション

1. 機能要件
1. クラス設計
1. クラス図の各操作が実現すべき処理
1. 処理フロー
1. 入出力設計
1. エラー処理

### 2.2 各セクションの記述要件

#### 機能要件

- プログラムの目的を明確に記述
- 箇条書きで具体的な機能を列挙
- 制約条件があれば明記

#### クラス設計

- クラス図はmermaidで記述
- クラス定義は表形式で記述
- 言語依存の情報を含む

#### クラス図の各操作が実現すべき処理

- 操作ごとにサブセクションを作成
- 実現すべき処理を箇条書きで記述
- 処理の目的と結果を具体的に説明
- 操作の定義情報はクラス図から読み取る

#### 処理フロー

- mermaidのflowchartを使用
- 主要な処理の流れを記載
- 分岐や繰り返しは適切に表現
- 複数オブジェクト間の複雑な相互作用がある場合のみ、シーケンス図の追加を検討

#### 入出力設計

- 入力仕様：形式、制約を明記
- 出力仕様：形式、具体例を記載
- 出力仕様は以下の構造で記述:
  1. 出力の種類ごとに番号付きリストで構造化
  1. 各出力要素の詳細を箇条書きで記述
  1. 最後に出力例をtextコードブロックで提示

#### エラー処理

- 想定されるエラーを明記
- エラー時の動作を具体的に記述
- 該当なしの場合は「なし」と記述

## 3. 記述上の注意点

### 3.1 記述スタイル

- 簡潔で明確な文章を使用
- 箇条書きを効果的に活用
- 一貫性のある記述を維持
- フローチャートでの表記規則
  - プロンプト表示等のUI要素は目的を示す表現を使用
  - 技術的な表現を優先（例：「出発地プロンプト表示」）
  - 特殊文字の使用を避ける

### 3.2 図表の使用

- クラス図：mermaid class diagram
- フローチャート：mermaid flowchart
  - すべての設計書に含める
  - 処理の基本的な流れを表現
- シーケンス図：mermaid sequenceDiagram
  - 複数オブジェクト間の相互作用が複雑な場合のみ使用
  - 単純な処理フローはフローチャートで表現
- 表：項目の定義に使用

### 3.3 含めるべきでない情報

- 開発環境に依存する情報
- エディタ設定で管理できる情報（インデント、文字コード等）
- 実装の細かな詳細
- 抽象的な注意事項

## 4. 言語依存部分の扱い

### 4.1 言語固有の要素

- クラス設計のパッケージ/名前空間
- メソッドの修飾子
- 言語固有の型システム

### 4.2 言語共通の要素

- 処理フロー
- 入出力の仕様
- エラー処理の方針

## 5. 設計書のレビュー観点

- 機能要件の明確さ
- 処理フローの妥当性
- 入出力仕様の具体性
- エラー処理の網羅性
- 言語依存/非依存部分の適切な分離

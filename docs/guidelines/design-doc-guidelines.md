# 詳細設計書作成ガイドライン

## 1. 基本方針

- 設計書は実装言語に依存しない形で記述する
- 言語依存部分（クラス設計、メソッド設計）は明確に分離する
- 簡潔かつ具体的な記述を心がける

## 2. 設計書の構成

### 2.1 必須セクション

1. 機能要件
1. クラス設計
1. メソッド設計
1. 処理フロー
1. 入出力設計
1. エラー処理

### 2.2 各セクションの記述要件

#### 機能要件

- プログラムの目的を明確に記述
- 箇条書きで具体的な機能を列挙
- 制約条件があれば明記

#### クラス設計

- クラス図はmermaidで記述
- クラス定義は表形式で記述
- 言語依存の情報を含む

#### メソッド設計

- メソッド定義は表形式で記述
- 機能説明は箇条書きで具体的に
- 処理の順序や条件を明確に

#### 処理フロー

- mermaidのflowchartを使用
- 主要な処理の流れを記載
- 分岐や繰り返しは適切に表現

#### 入出力設計

- 入力仕様：形式、制約を明記
- 出力仕様：形式、具体例を記載
- 出力仕様は以下の構造で記述:
  1. 出力の種類ごとに番号付きリストで構造化
  1. 各出力要素の詳細を箇条書きで記述
  1. 最後に出力例をtextコードブロックで提示

出力タイプごとの記述例：

【シンプルな1回の出力の場合】

1. 出力メッセージ
   - メッセージの内容を説明
   - 改行など表示形式の補足

2. 出力例：

   ```text
   実際の出力例
   ```

【複数行の固定出力の場合】

1. 出力メッセージ
   - 1行目の内容を説明
   - 2行目の内容を説明
   - 各行の表示形式の補足

2. 出力例：

   ```text
   1行目の出力
   2行目の出力
   ```

【プロンプトと入力を含む対話的出力の場合】

1. プロンプトメッセージ
   - 入力1用："プロンプト1"
   - 入力2用："プロンプト2"

2. 結果メッセージ
   - 形式："{入力1}と{入力2}の形式"
   - {}内は入力値で置換

3. 出力例：

   ```text
   プロンプト1実際の入力
   プロンプト2実際の入力
   結果メッセージの例
   ```

#### エラー処理

- 想定されるエラーを明記
- エラー時の動作を具体的に記述
- 該当なしの場合は「なし」と記述

## 3. 記述上の注意点

### 3.1 記述スタイル

- 簡潔で明確な文章を使用
- 箇条書きを効果的に活用
- 一貫性のある記述を維持
- フローチャートでの表記規則
  - プロンプト表示等のUI要素は目的を示す表現を使用
  - 技術的な表現を優先（例：「出発地プロンプト表示」）
  - 特殊文字の使用を避ける

### 3.2 図表の使用

- クラス図：mermaid class diagram
- フローチャート：mermaid flowchart
- 表：項目の定義に使用

### 3.3 含めるべきでない情報

- 開発環境に依存する情報
- エディタ設定で管理できる情報（インデント、文字コード等）
- 実装の細かな詳細
- 抽象的な注意事項

## 4. 言語依存部分の扱い

### 4.1 言語固有の要素

- クラス設計のパッケージ/名前空間
- メソッドの修飾子
- 言語固有の型システム

### 4.2 言語共通の要素

- 処理フロー
- 入出力の仕様
- エラー処理の方針

## 5. 設計書のレビュー観点

- 機能要件の明確さ
- 処理フローの妥当性
- 入出力仕様の具体性
- エラー処理の網羅性
- 言語依存/非依存部分の適切な分離
